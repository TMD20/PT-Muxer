<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>mono-api-threads.html</title>
    <style type="text/css">
SCALAR(0x55eb08c9ad00)
   </style>
</head>
<body>
<div class="mapi-docs">
<h2>Working with threads</h2>

<h3>Thread API</h3>
<a name="api:mono_thread_attach"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_attach</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">MonoThread*
mono_thread_attach (MonoDomain *domain)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_thread_create"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_create</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">void
mono_thread_create (MonoDomain *domain, gpointer func, gpointer arg)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_thread_current"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_current</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">MonoThread*
mono_thread_current (void)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_thread_detach"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_detach</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">void
mono_thread_detach (MonoThread *thread)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_thread_exit"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_exit</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">void
mono_thread_exit (void)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_thread_get_managed_id"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_get_managed_id</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">int32_t
mono_thread_get_managed_id (MonoThread *thread)

</div>
            <p>
             <div class="mapi-section">Return value</div>
             <div>	 the <code>Thread.ManagedThreadId</code> value of <i>thread</i>.

	 Returns <code>-1</code> if <i>thread</i> is <code>NULL</code>.</div>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_thread_get_name_utf8"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_get_name_utf8</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">char*
mono_thread_get_name_utf8 (MonoThread *thread)

</div>
            <p>
             <div class="mapi-section">Return value</div>
             <div>	 the name of the thread in UTF-8.

	 Return <code>NULL</code> if the thread has no name.
	 The returned memory is owned by the caller (g_free it).</div>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_thread_is_foreign"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_is_foreign</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">mono_bool
mono_thread_is_foreign (MonoThread *thread)

</div>
            <p>
            <div class="mapi-section">Parameters</div>
            <table class="mapi-parameters"><tbody><tr><td><i>thread</i></td><td> the thread to query</td></tr></tbody></table>             <div class="mapi-section">Return value</div>
             <div>	 <code>TRUE</code> if <i>thread</i> was not created by the runtime.
</div>
             <div class="mapi-section">Description</div>
             <div>
<p>
 This function allows one to determine if a thread was created by the mono runtime and has
 a well defined lifecycle or it's a foreign one, created by the native environment.
<p></div>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_thread_manage"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_manage</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">void
mono_thread_manage (void)

</div>
            <p>
             <div class="mapi-section">Description</div>
             <div>
<p></div>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_thread_new_init"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_new_init</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">void
mono_thread_new_init (intptr_t tid, gpointer stack_start, gpointer func)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_threads_get_default_stacksize"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_threads_get_default_stacksize</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">guint32
mono_threads_get_default_stacksize (void)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_threads_set_default_stacksize"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_threads_set_default_stacksize</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">void
mono_threads_set_default_stacksize (guint32 stacksize)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_thread_set_manage_callback"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_set_manage_callback</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">void
mono_thread_set_manage_callback (MonoThread *thread, MonoThreadManageCallback func)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_thread_stop"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_stop</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">void
mono_thread_stop (MonoThread *thread)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->

</div> <!-- class=mapi -->

<a name="api:mono_thread_get_main"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_get_main</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">MonoThread*
mono_thread_get_main (void)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_thread_set_main"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_set_main</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">void
mono_thread_set_main (MonoThread *thread)

</div>
            <p>
            <div class="mapi-section">Parameters</div>
            <table class="mapi-parameters"><tbody><tr><td><i>thread</i></td><td> thread to set as the main thread</td></tr></tbody></table>             <div class="mapi-section">Description</div>
             <div>
 This function can be used to instruct the runtime to treat <i>thread</i>
 as the main thread, ie, the thread that would normally execute the <code>Main</code>
 method. This basically means that at the end of <i>thread</i>, the runtime will
 wait for the existing foreground threads to quit and other such details.</div>
        </div><!--mapi-description-->
    </div><!--height container-->

<h3>Monitors</h3>

</div> <!-- class=mapi -->

<a name="api:mono_monitor_enter"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_monitor_enter</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">gboolean
mono_monitor_enter (MonoObject *obj)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_monitor_enter_v4"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_monitor_enter_v4</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">void
mono_monitor_enter_v4 (MonoObject *obj, char *lock_taken)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_monitor_exit"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_monitor_exit</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">void
mono_monitor_exit (MonoObject *obj)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_monitor_try_enter"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_monitor_try_enter</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">gboolean
mono_monitor_try_enter (MonoObject *obj, guint32 ms)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->

<h3>Initialization and Shutdown</h3>

</div> <!-- class=mapi -->

<a name="api:mono_thread_cleanup"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_cleanup</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">void
mono_thread_cleanup (void)

</div>
            <p>
        </div><!--mapi-description-->
    </div><!--height container-->
</div> <!-- class=mapi -->

<a name="api:mono_thread_detach_if_exiting"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_thread_detach_if_exiting</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">mono_bool
mono_thread_detach_if_exiting (void)

</div>
            <p>
             <div class="mapi-section">Description</div>
             <div>
<p>
 Detach the current thread from the runtime if it is exiting, i.e. it is running pthread dtors.
 This should be used at the end of embedding code which calls into managed code, and which
 can be called from pthread dtors, like <code>dealloc:</code> implementations in Objective-C.</div>
        </div><!--mapi-description-->
    </div><!--height container-->
   </div></body></html>