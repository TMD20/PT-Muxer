<?xml version="1.0" encoding="utf-8"?><span>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>mono-api-counters.html</title>
    <style type="text/css">
//<![CDATA[

SCALAR(0x55eb08c9ad00)
   
//]]>//
</style>
</head>
<body>
<div class="mapi-docs">
<h2>Counters</h2>
	
	<p />Counters is a Mono API for flexible statistics collection
	and is used to track different events inside the JIT.

        <p />You would typically register an address with the
        <tt>mono_counters_register</tt> routine and increment the
        counters from your application as you go.   At the end of the
        program you would call mono_counters_dump which will display
        all the registered counters.

	<p />If you need more complicated counter computation, a
        function can be provided instead of an address.  In that case
        the <tt>MONO_COUNTER_CALLBACK</tt> flag must be ored in the
        type request. 

	<p />The types that can be rendered are:
		
<pre>
       MONO_COUNTER_INT
       MONO_COUNTER_UINT
       MONO_COUNTER_WORD
       MONO_COUNTER_LONG
       MONO_COUNTER_ULONG
       MONO_COUNTER_DOUBLE
       MONO_COUNTER_STRING
</pre>
	
	<p />To organize the output, you register also a section where
	the counter will be displayed, or one of the following values
	when you register your counter:

<pre>

       MONO_COUNTER_JIT
       MONO_COUNTER_GC
       MONO_COUNTER_METADATA
       MONO_COUNTER_GENERICS
       MONO_COUNTER_SECURITY
</pre>
	
<a name="api:mono_counters_dump"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_counters_dump</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">void
mono_counters_dump (int section_mask, FILE *outfile)

</div>
            <p />
            <div class="mapi-section">Parameters</div>
            <table class="mapi-parameters"><tbody><tr><td><i>section_mask</i></td><td> The sections to dump counters for</td></tr><tr><td><i>outfile</i></td><td> a FILE to dump the results to; <code>NULL</code> will default to g_print</td></tr></tbody></table>             <div class="mapi-section">Description</div>
             <div>
 Displays the counts of all the enabled counters registered. 
 To filter by variance, you can OR one or more variance with the specific section you want.
 Use <code>MONO_COUNTER_SECTION_MASK</code> to dump all categories of a specific variance.</div>
        </div><!--mapi-description -->
    </div><!--height container -->
</div> <!-- class=mapi  -->

<a name="api:mono_counters_enable"></a>
<div class="mapi">
    <div class="mapi-entry "><code>mono_counters_enable</code></div>
    <div class="mapi-height-container">
        <div class="mapi-ptr-container"></div>
        <div class="mapi-description">
            <div class="mapi-ptr"></div>

            <div class="mapi-declaration mapi-section">Syntax</div>
            <div class="mapi-prototype">void
mono_counters_enable (int section_mask)

</div>
            <p />
            <div class="mapi-section">Parameters</div>
            <table class="mapi-parameters"><tbody><tr><td><i>sectionmask</i></td><td> a mask listing the sections that will be displayed</td></tr></tbody></table>             <div class="mapi-section">Description</div>
             <div>
 This is used to track which counters will be displayed.</div>
        </div><!--mapi-description -->
    </div><!--height container -->
   </div></div></body></html></span>